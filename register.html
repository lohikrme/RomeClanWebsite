<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/register.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
    <title>Document</title>
</head>
<body id="login">
    
<header>

    <h1>Tiamat Clan Website</h1>
    <ul class="menu-items-list">
        <li id="main-button"><a href="index.html">Main</a></li>
        <li id="events-button"><a href="events.html">Events</a></li>
        <li id="forum-button"><a href="forum.html">Forum</a></li>
        <li id="login-button"><a href="login.html">Log in!</a></li>
    </ul>

</header>

<form class="loginForm" action="scripts/registration.php" method="post" onsubmit="return checkPasswords()">
    <h2>Register here! </h2>
    <p class="loginTexts">Email Address: </p>

    <div>
        <label><i class="fas fa-envelope"></i></label>
        <input class="inputs" id="email-address-input" name="email" type="email" placeholder="warband.player@gmail.com"> 
    </div>

    <p class="loginTexts">Account name: </p>

    <div>
        <label><i class="fas fa-user"></i></label>
        <input class="inputs" id="account-name-input" name="name" type="text" placeholder="Totenflak"> 
    </div>

    <p class="loginTexts">Password: </p>
    
    <div>
        <label><i class="fas fa-lock"></i></label>
        <input class="inputs" id="password1-input" name="password" type="password" placeholder="12345" onkeyup="checkPasswords()"> 
    </div>

    <p class="loginTexts">Write password again: </p>

    <div>
        <label><i class="fas fa-lock"></i></label>
        <input class="inputs" id="password2-input" type="password" placeholder="12345" onkeyup="checkPasswords()"> 
    </div>

    <button class="buttons1" id="register-button" type="submit">Register</button>
    <button class="buttons1" id="clear-button" type="reset">Clear</button> <br>
    <a class="buttons2" id="return-login-button" href="login.html">Back to login? </a>
</form> <!-- loginForm ends -->


<!-- next script compares that passwords are similar between each others and enough long and complex-->
<script>
    function checkPasswords() {
        var password1IsValid = false;
        var passwordsAreValid = false;


        var password1 = document.getElementById("password1-input");
        var password2 = document.getElementById("password2-input");

        if (password1 == "" && password2 == "") {
            password1.style.backgroundColor = "transparent";
            password2.style.backgroundColor = "transparent";
        }

        if (password1.value.length >= 10 && password1.value.match(/[a-z]/) && password1.value.match(/[A-Z]/) && password1.value.match(/[0-9]/)) {
                password1.style.backgroundColor = "green";
                password1IsValid = true;
        } 
        else {
                password1.style.backgroundColor = "red";
                password1IsValid = false;
        }

        if (password1IsValid && password1.value === password2.value) {
            password2.style.backgroundColor = "green";
            passwordsAreValid = true;
        }
        else if (password1IsValid && password1.value !== password2.value) {
            password2.style.backgroundColor = "red";
            passwordsAreValid = false;
        }
        return passwordsAreValid;
        
    }
</script>

</body>
</html>